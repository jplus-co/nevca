{% extends "base.twig" %}

{% set mission_block = post.get_field("mission_block") %}
{% set events_block = post.get_field("events_block") %}
{% set community_block = post.get_field("community_block") %}
{% set members_block = post.get_field("members_block") %}
{% set press_block = post.get_field("press_block") %}
{% set faq_block = post.get_field("faq_block") %}

{% block content %}
  <div class="view" data-namespace="home">
    <!-- Hero -->
    {% include "hero.twig" with {
      "hero_text": post.hero_text,
      "is_home": true,
      "hero_image": post.hero_image
    } %}
    <!-- Mission -->
    <section id="mission" class="js-section section">
      <div class="section__row justify-content-end">
        <!-- Mission Text -->
        {% include "text-block.twig" with {
          "props": mission_block
        } %}
        <!-- Mission Images -->
        {% include "image-cluster.twig" with {
          "images": mission_block.image_cluster,
          "ampersand": true
        } %}
      </div>
    </section>
    <!-- Events -->
    <section id="events" class="js-section section bg-alt">
      <!-- Events Text -->
      <div class="section__row">
        {% include "text-block.twig" with {
          "props": events_block
        } %}
      </div>
      <!-- Event Tease List -->
      <div class="section__row">
        <div class="relative w-100">
          {% include 'tease-list.twig' with {
            "props": 1..4
          } %}
          <!-- View more circle button -->
          <div class="absolute pos-br translate-x-100 p-left-1">
            {% include 'circle-button.twig' with {
              direction: 'right',
              url: '/events',
              label: 'View all'
            } %}
          </div>
        </div>
      </div>
    </section>
    <!-- Community -->
    <section id="community" class="js-section section">
      <div class="section__row justify-content-end">
        <!-- Community Text -->
        {% include "text-block.twig" with {
          "props": community_block
        } %}
        <div class="image image--top image--left image--padding w-40">
          <div class="image__inner" style="background-image: url({{ TimberImage(community_block.images[0]).src }})"></div>
        </div>
      </div>
      <!-- Community Content Tease List -->
      <div class="section__row">
        {% include 'tease-list.twig' with {
          "props": community_block.featured_posts
        } %}
        <div class="image image--right p-top-10 w-50">
          <div class="image__inner" style="background-image: url({{ TimberImage(community_block.images[1]).src }})"></div>
        </div>
      </div>
      <!-- Members Block -->
      <div class="section__row">
        <div class="w-75 z-index-1">
          <h3 class="text-block__subheading">{{ members_block.heading }}</h3>
          {% include 'tease-list.twig' with {
            "props": featured_members,
            "wrap": true,
            "flex_basis": 20
          } %}
          {% if members_block.has_button %}
            {% include "button.twig" with {
              props: members_block.button
            } %}
          {% endif %}
        </div>
      </div>
      <!-- Sponsors Block -->
      <div class="section__row justify-content-end translate-x-7">
        <div class="w-75 z-index-1">
          <h3 class="text-block__subheading">{{ members_block.heading }}</h3>
          {% include 'tease-list.twig' with {
            "props": featured_members,
            "wrap": true,
            "flex_basis": 20
          } %}
          {% if members_block.has_button %}
            {% include "button.twig" with {
              props: members_block.button
            } %}
          {% endif %}
        </div>
      </div>
      <!-- Press Block -->
      <div class="p-6p">
        <div class="w-100 p-6p align-items-center">
          <h2 class="text-block__subheading text-align-center">Featured In</h2>
          {% include "tease-list.twig" with {
            "props": 1..4
          } %}
        </div>
      </div>
    </section>

    {% include "faq-tease-block.twig" with {
      "props": faq_block
    } %}

    {% include "site-footer.twig" %}
  </div>
{% endblock %}
